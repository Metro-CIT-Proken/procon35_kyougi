# 第35回高専プロコン　競技部門　都立（品川）

## ソルバー

### 起動方法
以下のコマンドでソルバーをコンパイルします。
```
cd solvers/beam
./build.sh -j
```
以下のコマンドでソルバーを実行します。
復元が終わると標準出力に解答がJSON形式で出力されます。
`solver`が行ごとに値の数を揃えたあと上の行から順番に復元するソルバーで、`solver_simple`が左上のセルから１セルずつ復元するソルバーです。
```
build/solver <問題JSON>
build/simple_solver <問題JSON>
```

### 必要なライブラリ
ソルバーのコンパイルにはIntel Threading Building Blocksライブラリが必要です。
`apt`コマンドが使える環境なら以下のコマンドでインストールできます。
```
sudo apt update && sudo apt install libtbb-dev
```

### ビジュアライザから呼び出す
ビジュアライザから他のPCのソルバーを呼び出すには、`tools/solver_server.py`スクリプトを使用します。
このスクリプトを起動するとソルバーを呼び出すためのHTTP APIサーバが起動します。
ビジュアライザからPCのアドレスを指定してソルバーを呼び出します。

まず以下のコマンドでライブラリをインストールします。
```
pip install Flask
```
ライブラリのインストール後、以下のコマンドで実行します。
```
python3 solver_server.py
```


## ビジュアライザ


### 起動方法
まず以下のコマンドでライブラリをインストールします。
```
pip install PyQt6 PyOpenGL requests opencv-python
```
ライブラリのインストール後、以下のコマンドで実行します。
```
cd visualizer
python3 main4.py [問題json] [解答json] [オプション]
```
オプション一覧：
* aオプション 自動で盤面を操作する
* mオプション 手動で盤面を操作する
* a or m オプションに　s を追加することで　ゴールとの距離に応じて色が変化する盤面を表示するようになる

### 操作方法
* UPキー：ズームイン
* DOWNキー：ズームアウト
* Wキー  上にカメラを動かす
* Sキー　下にカメラを動かす
* Aキー　左にカメラを動かす
* Dキー　右にカメラを動かす
* Rキー　カメラを元に戻す
